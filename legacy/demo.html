<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Color Picker Bookmarklet Demo</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 40px 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        .header {
            text-align: center;
            color: white;
            margin-bottom: 40px;
        }

        .header h1 {
            font-size: 3rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .header p {
            font-size: 1.2rem;
            opacity: 0.9;
        }

        .activate-btn {
            display: block;
            margin: 30px auto;
            padding: 15px 40px;
            font-size: 1.2rem;
            font-weight: bold;
            background: #4CAF50;
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            transition: all 0.3s;
        }

        .activate-btn:hover {
            background: #45a049;
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0,0,0,0.3);
        }

        .instructions {
            background: white;
            padding: 30px;
            border-radius: 12px;
            margin-bottom: 40px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
        }

        .instructions h2 {
            color: #333;
            margin-bottom: 15px;
        }

        .instructions ol {
            margin-left: 20px;
            line-height: 1.8;
            color: #555;
        }

        .instructions li {
            margin-bottom: 10px;
        }

        .color-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 40px;
        }

        .color-card {
            padding: 40px;
            border-radius: 12px;
            text-align: center;
            color: white;
            font-weight: bold;
            font-size: 1.1rem;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            transition: transform 0.3s;
            cursor: pointer;
        }

        .color-card:hover {
            transform: scale(1.05);
        }

        .color-card.primary { background: #FF6B6B; }
        .color-card.secondary { background: #4ECDC4; }
        .color-card.success { background: #95E1D3; }
        .color-card.warning { background: #FCE38A; color: #333; }
        .color-card.danger { background: #F38181; }
        .color-card.info { background: #AA96DA; }
        .color-card.purple { background: #9B59B6; }
        .color-card.blue { background: #3498DB; }
        .color-card.green { background: #2ECC71; }
        .color-card.orange { background: #E67E22; }
        .color-card.red { background: #E74C3C; }
        .color-card.pink { background: #E91E63; }

        .gradient-section {
            margin: 40px 0;
        }

        .gradient-box {
            height: 150px;
            border-radius: 12px;
            margin: 20px 0;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        }

        .gradient-1 {
            background: linear-gradient(45deg, #FF6B6B, #4ECDC4);
        }

        .gradient-2 {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }

        .gradient-3 {
            background: linear-gradient(90deg, #f093fb 0%, #f5576c 100%);
        }

        .gradient-4 {
            background: linear-gradient(45deg, #4facfe 0%, #00f2fe 100%);
        }

        .text-section {
            background: white;
            padding: 30px;
            border-radius: 12px;
            margin: 40px 0;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
        }

        .text-section h2 {
            color: #333;
            margin-bottom: 20px;
        }

        .text-sample {
            padding: 20px;
            margin: 15px 0;
            border-radius: 8px;
        }

        .text-red { color: #E74C3C; background: #FADBD8; }
        .text-blue { color: #3498DB; background: #D6EAF8; }
        .text-green { color: #27AE60; background: #D5F4E6; }
        .text-purple { color: #8E44AD; background: #EBDEF0; }
        .text-orange { color: #E67E22; background: #FDEBD0; }

        .footer {
            text-align: center;
            color: white;
            margin-top: 60px;
            opacity: 0.8;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ðŸŽ¨ Color Picker Bookmarklet</h1>
            <p>Hover over any element to see its color, click to copy!</p>
            <button class="activate-btn" onclick="activateColorPicker()">Activate Color Picker</button>
        </div>

        <div class="instructions">
            <h2>How to Use</h2>
            <ol>
                <li>Click the "Activate Color Picker" button above</li>
                <li>Move your mouse over any colored element on this page</li>
                <li>See the magnifying glass (loupe) showing the color and HEX code</li>
                <li>Click on any element to copy its color to clipboard</li>
                <li>View your color history in the bottom-right panel</li>
                <li>Click the Ã— button to close the color picker</li>
            </ol>
        </div>

        <div class="color-grid">
            <div class="color-card primary">#FF6B6B<br>Primary Red</div>
            <div class="color-card secondary">#4ECDC4<br>Turquoise</div>
            <div class="color-card success">#95E1D3<br>Mint Green</div>
            <div class="color-card warning">#FCE38A<br>Yellow</div>
            <div class="color-card danger">#F38181<br>Coral</div>
            <div class="color-card info">#AA96DA<br>Lavender</div>
            <div class="color-card purple">#9B59B6<br>Purple</div>
            <div class="color-card blue">#3498DB<br>Blue</div>
            <div class="color-card green">#2ECC71<br>Green</div>
            <div class="color-card orange">#E67E22<br>Orange</div>
            <div class="color-card red">#E74C3C<br>Red</div>
            <div class="color-card pink">#E91E63<br>Pink</div>
        </div>

        <div class="gradient-section">
            <div class="instructions">
                <h2>Gradient Colors</h2>
                <p>Try picking colors from these gradients!</p>
            </div>
            <div class="gradient-box gradient-1"></div>
            <div class="gradient-box gradient-2"></div>
            <div class="gradient-box gradient-3"></div>
            <div class="gradient-box gradient-4"></div>
        </div>

        <div class="text-section">
            <h2>Text Colors</h2>
            <div class="text-sample text-red">
                <h3>Red Text</h3>
                <p>This is red text on a light red background. Hover to see the text color!</p>
            </div>
            <div class="text-sample text-blue">
                <h3>Blue Text</h3>
                <p>This is blue text on a light blue background. Click to copy the color!</p>
            </div>
            <div class="text-sample text-green">
                <h3>Green Text</h3>
                <p>This is green text on a light green background. Try it out!</p>
            </div>
            <div class="text-sample text-purple">
                <h3>Purple Text</h3>
                <p>This is purple text on a light purple background. Colors are fun!</p>
            </div>
            <div class="text-sample text-orange">
                <h3>Orange Text</h3>
                <p>This is orange text on a light orange background. Pick your favorite!</p>
            </div>
        </div>

        <div class="footer">
            <p>Color Picker Bookmarklet Demo - Move your mouse and click to pick colors!</p>
        </div>
    </div>

    <script>
        function activateColorPicker() {
            (function(){const a=document.getElementById('my-color-picker-root');if(a){a.remove();return}const b=document.createElement('div');b.id='my-color-picker-root';b.style.cssText='position:fixed;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:2147483647;';document.body.appendChild(b);const c=b.attachShadow({mode:'open'});let d=[],e=5,f=null,g=null;const h=`<style>*{box-sizing:border-box}.loupe{position:fixed;width:120px;height:120px;border:3px solid #fff;border-radius:50%;box-shadow:0 0 20px rgba(0,0,0,0.5),inset 0 0 20px rgba(0,0,0,0.3);pointer-events:none;z-index:2147483647;transform:translate(-50%,-50%);overflow:hidden;background:#fff}.loupe-inner{width:100%;height:100%;position:relative}.loupe-color{width:100%;height:70%;background:#ccc}.loupe-hex{position:absolute;bottom:0;left:0;right:0;height:30%;background:rgba(0,0,0,0.8);color:#fff;display:flex;align-items:center;justify-content:center;font-family:'Monaco','Menlo','Courier New',monospace;font-size:12px;font-weight:bold;text-transform:uppercase}.highlight{outline:2px solid #4CAF50!important;outline-offset:-2px!important}.history-panel{position:fixed;bottom:20px;right:20px;background:rgba(30,30,30,0.95);border-radius:8px;padding:15px;box-shadow:0 4px 20px rgba(0,0,0,0.3);z-index:2147483647;pointer-events:auto;min-width:200px;backdrop-filter:blur(10px)}.history-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:10px;color:#fff;font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,sans-serif;font-size:14px;font-weight:600}.history-close{background:none;border:none;color:#fff;font-size:18px;cursor:pointer;padding:0;width:24px;height:24px;display:flex;align-items:center;justify-content:center;border-radius:4px;transition:background 0.2s}.history-close:hover{background:rgba(255,255,255,0.2)}.history-list{display:flex;flex-direction:column;gap:8px}.history-item{display:flex;align-items:center;gap:10px;padding:8px;background:rgba(255,255,255,0.05);border-radius:4px;cursor:pointer;transition:background 0.2s}.history-item:hover{background:rgba(255,255,255,0.1)}.history-swatch{width:30px;height:30px;border-radius:4px;border:2px solid rgba(255,255,255,0.3);flex-shrink:0}.history-hex{color:#fff;font-family:'Monaco','Menlo','Courier New',monospace;font-size:12px;flex:1}.history-clear{margin-top:10px;width:100%;padding:8px;background:rgba(255,77,77,0.2);border:1px solid rgba(255,77,77,0.5);border-radius:4px;color:#ff4d4d;cursor:pointer;font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,sans-serif;font-size:12px;transition:all 0.2s}.history-clear:hover{background:rgba(255,77,77,0.3)}.history-empty{color:rgba(255,255,255,0.5);font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,sans-serif;font-size:12px;text-align:center;padding:10px 0}</style>`;const i=`<div class="loupe" id="loupe"><div class="loupe-inner"><div class="loupe-color" id="loupe-color"></div><div class="loupe-hex" id="loupe-hex">#000000</div></div></div>`;const j=`<div class="history-panel" id="history-panel"><div class="history-header"><span>Color History</span><button class="history-close" id="history-close" title="Close">Ã—</button></div><div class="history-list" id="history-list"><div class="history-empty">No colors picked yet</div></div><button class="history-clear" id="history-clear">Clear History</button></div>`;c.innerHTML=h+i+j;const k=c.getElementById('loupe'),l=c.getElementById('loupe-color'),m=c.getElementById('loupe-hex'),n=c.getElementById('history-panel'),o=c.getElementById('history-list'),p=c.getElementById('history-close'),q=c.getElementById('history-clear');function r(t){if(!t)return null;const s1=window.getComputedStyle(t);let v=s1.backgroundColor||s1.color;if(v==='rgba(0, 0, 0, 0)'||v==='transparent')v=s1.color;if(v&&v!=='transparent'&&v!=='rgba(0, 0, 0, 0)')return w(v);return null}function w(t){if(t.startsWith('#'))return t.toUpperCase();const s2=t.match(/rgba?\((\d+),\s*(\d+),\s*(\d+)/);if(s2){const v=parseInt(s2[1],10),x=parseInt(s2[2],10),y=parseInt(s2[3],10);return'#'+[v,x,y].map(function(z){const A=z.toString(16);return A.length===1?'0'+A:A}).join('').toUpperCase()}const v=document.createElement('canvas').getContext('2d');v.fillStyle=t;const s3=v.fillStyle;if(s3.startsWith('#'))return s3.toUpperCase();return'#000000'}function B(aa,ab,ac){k.style.left=aa+'px';k.style.top=ab+'px';l.style.background=ac;m.textContent=ac}function C(t){if(!t||d.includes(t))d=d.filter(function(ad){return ad!==t});d.unshift(t);if(d.length>e)d.pop();D()}function D(){if(d.length===0){o.innerHTML='<div class="history-empty">No colors picked yet</div>';return}o.innerHTML=d.map(function(t){return'<div class="history-item" data-color="'+t+'"><div class="history-swatch" style="background: '+t+'"></div><div class="history-hex">'+t+'</div></div>'}).join('');o.querySelectorAll('.history-item').forEach(function(t){t.addEventListener('click',function(){const ae=t.dataset.color;E(ae)})})}function E(t){if(navigator.clipboard&&navigator.clipboard.writeText){navigator.clipboard.writeText(t).then(function(){const af=m.textContent;m.textContent='COPIED!';setTimeout(function(){m.textContent=af},500)}).catch(function(){F(t)})}else F(t)}function F(t){const ag=document.createElement('textarea');ag.value=t;ag.style.position='fixed';ag.style.opacity='0';document.body.appendChild(ag);ag.select();try{document.execCommand('copy');const ah=m.textContent;m.textContent='COPIED!';setTimeout(function(){m.textContent=ah},500)}catch(ai){console.error('Failed to copy:',ai)}document.body.removeChild(ag)}function G(){if(g){g.classList.remove('highlight');g=null}}function H(t){const aj=document.elementFromPoint(t.clientX,t.clientY);if(aj&&(aj.id==='my-color-picker-root'||aj.closest('#my-color-picker-root'))){k.style.display='none';G();return}k.style.display='block';G();const ak=r(aj);f=ak||'#000000';B(t.clientX,t.clientY,f);if(aj&&aj!==document.body&&aj!==document.documentElement){g=aj;aj.classList.add('highlight')}}function I(t){if(t.target.closest('#my-color-picker-root')||t.target.closest('.history-panel'))return;t.preventDefault();t.stopPropagation();if(f){E(f);C(f)}}function J(){b.remove()}function K(){d=[];D()}document.addEventListener('mousemove',H);document.addEventListener('click',I,true);p.addEventListener('click',J);q.addEventListener('click',K);D()})();
        }
    </script>
</body>
</html>

